import{o as e,c as t,w as a,r as s,e as l,n,g as i,t as o,d as r,h as u,i as d,l as c,k as m,f,a as p,b as g,F as h,m as _,p as y,u as x}from"./index-TkfRNjLx.js";import{_ as b}from"./uv-icon.DBsGXtLZ.js";import{r as k}from"./uni-app.es.D2PErhGZ.js";import{_ as v}from"./uni-icons.BaAFCRp2.js";import{_ as I,a as w}from"./uni-grid.D30YFG0s.js";import{_ as C}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{c as j,f as S}from"./index.BNpizL3L.js";const z=C({name:"UniBadge",emits:["click"],props:{type:{type:String,default:"error"},inverted:{type:Boolean,default:!1},isDot:{type:Boolean,default:!1},maxNum:{type:Number,default:99},absolute:{type:String,default:""},offset:{type:Array,default:()=>[0,0]},text:{type:[String,Number],default:""},size:{type:String,default:"small"},customStyle:{type:Object,default:()=>({})}},data:()=>({}),computed:{width(){return 8*String(this.text).length+12},classNames(){const{inverted:e,type:t,size:a,absolute:s}=this;return[e?"uni-badge--"+t+"-inverted":"","uni-badge--"+t,"uni-badge--"+a,s?"uni-badge--absolute":""].join(" ")},positionStyle(){if(!this.absolute)return{};let e=this.width/2,t=10;this.isDot&&(e=5,t=5);const a=`${-e+this.offset[0]}px`,s=`${-t+this.offset[1]}px`,l={rightTop:{right:a,top:s},rightBottom:{right:a,bottom:s},leftBottom:{left:a,bottom:s},leftTop:{left:a,top:s}},n=l[this.absolute];return n||l.rightTop},dotStyle(){return this.isDot?{width:"10px",minWidth:"0",height:"10px",padding:"0",borderRadius:"10px"}:{}},displayValue(){const{isDot:e,text:t,maxNum:a}=this;return e?"":Number(t)>a?`${a}+`:t}},methods:{onClick(){this.$emit("click")}}},[["render",function(c,m,f,p,g,h){const _=u,y=d;return e(),t(y,{class:"uni-badge--x"},{default:a((()=>[s(c.$slots,"default",{},void 0,!0),f.text?(e(),t(_,{key:0,class:l([h.classNames,"uni-badge"]),style:n([h.positionStyle,f.customStyle,h.dotStyle]),onClick:m[0]||(m[0]=e=>h.onClick())},{default:a((()=>[i(o(h.displayValue),1)])),_:1},8,["class","style"])):r("",!0)])),_:3})}],["__scopeId","data-v-414d462c"]]);const R=C({data:()=>({list:[{name:"积分明细",img:"mine-icon1.png",url:"/pages/mine/sub/jifenRecord"},{name:"充值记录",img:"mine-icon2.png",url:"/pages/mine/sub/rechargeRecord"},{name:"兑换记录",img:"mine-icon3.png",url:"/pages/mine/sub/exchangeRecord"},{name:"点击记录",img:"mine-icon4.png",url:"/pages/mine/sub/clickRecord"},{name:"援助交际",img:"mine-icon5.png",url:"/pages/mine/sub/communication"},{name:"会员消息",img:"mine-icon6.png",url:"/pages/mine/sub/VIPMsg"},{name:"收款方式管理",img:"mine-icon7.png",url:"/pages/mine/sub/payManage"},{name:"我的观影券",img:"mine-icon8.png",url:"/pages/mine/sub/coupon"},{name:"酒店预订",img:"mine-icon9.png",url:"/pages/mine/sub/HotelReservations"}],userInfo:{},showEye:!0,BASE_URL:j.BASE_URL}),onLoad(){this.getInfo()},methods:{getInfo(){S().then((e=>{console.log("getUserInfo",e.data),this.userInfo=e.data}))},jumpPage(e){c({url:e})},jumpPage2(){c({url:"/pages/mine/sub/setting"})},changAvatar(){},change(e){let{index:t}=e.detail;this.jumpPage(this.list[t].url)}}},[["render",function(s,l,n,c,C,j){const S=k(m("uv-icon"),b),R=_,B=u,E=d,P=k(m("uni-icons"),v),N=y,A=k(m("uni-grid-item"),I),U=k(m("uni-grid"),w),$=k(m("uni-badge"),z),D=x;return e(),t(E,null,{default:a((()=>[f(D,{"scroll-y":"true"},{default:a((()=>[f(E,{style:{height:"100dvh"}},{default:a((()=>[f(S,{style:{width:"32px",height:"32px",position:"fixed",right:"1dvh",top:"1dvh","z-index":"999"},name:"setting",color:"#fff",size:"22",onClick:j.jumpPage2},null,8,["onClick"]),f(E,{class:"p-15 flex-center fs-12",style:{background:"var(--theme-primary-color)",height:"120px","box-sizing":"border-box",color:"#fff"}},{default:a((()=>[f(R,{src:C.userInfo.avatar.includes(".png")?C.BASE_URL+C.userInfo.avatar:C.userInfo.avatar,style:{width:"70px",height:"70px","border-radius":"50%"},mode:"",onClick:j.changAvatar},null,8,["src","onClick"]),f(E,{class:"ml-10"},{default:a((()=>[f(E,{class:"flex",style:{"align-items":"center"}},{default:a((()=>[f(B,null,{default:a((()=>[i(o(C.userInfo.nickname),1)])),_:1}),f(B,{class:"ml-10"},{default:a((()=>[i("等级："+o(C.userInfo.level),1)])),_:1})])),_:1}),f(E,{class:""},{default:a((()=>[f(B,null,{default:a((()=>[i("积分："+o(C.userInfo.score),1)])),_:1})])),_:1}),f(E,{class:""},{default:a((()=>[f(B,null,{default:a((()=>[i("邀请码："+o(C.userInfo.invite_code),1)])),_:1})])),_:1})])),_:1})])),_:1}),f(E,{class:"mine_content main-text-13"},{default:a((()=>[f(E,{class:"",style:{background:"#fff","border-radius":"8px",padding:"0 15px"}},{default:a((()=>[f(U,{column:3,"show-border":!1,square:!1},{default:a((()=>[f(A,null,{default:a((()=>[f(E,{class:"grid-item-box"},{default:a((()=>[f(N,{url:"/pages/mine/sub/signIn"},{default:a((()=>[f(E,{class:"flex-center2"},{default:a((()=>[f(P,{type:"calendar",color:"var(--theme-primary-darkColor)",size:"28"}),f(B,null,{default:a((()=>[i("签到")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),f(A,null,{default:a((()=>[f(E,{class:"grid-item-box"},{default:a((()=>[f(E,{class:"flex-center2",onClick:l[0]||(l[0]=e=>j.jumpPage("/pages/mine/sub/RedeemPoints"))},{default:a((()=>[f(S,{name:"gift-fill",color:"var(--theme-primary-darkColor)",size:"28"}),f(B,null,{default:a((()=>[i("兑换积分")])),_:1})])),_:1})])),_:1})])),_:1}),f(A,null,{default:a((()=>[f(E,{class:"grid-item-box"},{default:a((()=>[f(E,{class:"flex-center2",onClick:l[1]||(l[1]=e=>j.jumpPage("/pages/mine/sub/recharge"))},{default:a((()=>[f(P,{type:"wallet",color:"var(--theme-primary-darkColor)",size:"28"}),f(B,null,{default:a((()=>[i("充值")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),f(E,{class:"mt-10 p-10",style:{background:"#fff","border-radius":"8px"}},{default:a((()=>[f(B,{style:{display:"block"}},{default:a((()=>[i("我的活动积分")])),_:1}),f(E,{class:"flex-between-center mt-10"},{default:a((()=>[f(E,{class:"flex-center"},{default:a((()=>[f(B,{class:"fs-28",style:{color:"var(--theme-primary-color)"}},{default:a((()=>[i(o(C.showEye?C.userInfo.score:"***"),1)])),_:1}),f(S,{class:"ml-5",name:C.showEye?"eye":"eye-off",color:"var(--theme-primary-color)",size:"16",onClick:l[2]||(l[2]=e=>C.showEye=!C.showEye)},null,8,["name"])])),_:1}),f(E,{class:"flex-center"},{default:a((()=>[f(B,null,{default:a((()=>[i("余额（积分）")])),_:1}),f(P,{type:"refresh-filled",color:"var(--theme-primary-color)",size:"22",onClick:j.getInfo},null,8,["onClick"])])),_:1})])),_:1})])),_:1}),f(E,{class:"mt-10",style:{background:"#fff","border-radius":"8px",padding:"15px"}},{default:a((()=>[f(U,{column:3,"show-border":!1,square:!1,onChange:j.change},{default:a((()=>[(e(!0),p(h,null,g(C.list,((s,l)=>(e(),t(A,{index:l,key:l},{default:a((()=>[f(E,{class:"grid-item-box"},{default:a((()=>[f(R,{class:"image",src:"/static/mine/"+s.img,style:{width:"80rpx",height:"80rpx"},mode:"aspectFill"},null,8,["src"]),f(B,{class:"text mt-5"},{default:a((()=>[i(o(s.name),1)])),_:2},1024),"会员消息"==s.name?(e(),t(E,{key:0,class:"grid-dot"},{default:a((()=>[f($,{text:C.userInfo.unread_msg,type:"error"},null,8,["text"])])),_:1})):r("",!0),"我的观影券"==s.name?(e(),t(E,{key:1,class:"grid-dot"},{default:a((()=>[f($,{text:C.userInfo.movie_tickets,type:"error"},null,8,["text"])])),_:1})):r("",!0)])),_:2},1024)])),_:2},1032,["index"])))),128))])),_:1},8,["onChange"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-40b2805c"]]);export{R as default};
