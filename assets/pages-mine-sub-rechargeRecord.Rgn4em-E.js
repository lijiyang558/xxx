import{z as t,k as e,o as a,c as s,w as o,i as l,f as r,a as n,b as c,F as i,g as u,d as f,x as d,t as p,n as h,h as m}from"./index-QM6YRZWD.js";import{_ as g}from"./uv-back-top.CQAyvELo.js";import{r as y}from"./uni-app.es.CqVc5pWo.js";import{w as _,B as x}from"./index.n6aPFrLu.js";import{_ as S}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uv-icon.Cw_CO3pk.js";const b=S({data:()=>({list:[],pageConf:{page:1,size:10},loading:!1,noMore:!1,scrollTop:0,customStyle:{fontSize:"24rpx",background:"var(--theme-primary-color)"},iconStyle:{fontSize:"32rpx",color:"#fff"}}),onLoad(){this.loadData()},onPageScroll(t){this.scrollTop=t.scrollTop},onPullDownRefresh(){this.pageConf.page=1,this.loadData((()=>{t()}))},onReachBottom(){this.noMore?t():this.loadMore()},methods:{formatTime:_,async loadData(t){this.loading=!0;try{const e=await x(this.pageConf);1===this.pageConf.page?this.list=e.data.list:this.list=this.list.concat(e.data.list),e.data.list.length<this.pageConf.size&&(this.noMore=!0)}catch(e){console.error("数据加载失败:",e)}finally{this.loading=!1,t&&"function"==typeof t&&t()}},loadMore(){this.pageConf.page++,this.loadData()},getStatusText(t){switch(t){case 0:return"等待审核";case 1:return"审核通过";case 2:return"审核不通过"}},getStatusColor(t){switch(t){case 0:return"#ffaa00";case 1:return"#00aa00";case 2:return"#ff0000"}}}},[["render",function(t,_,x,S,b,w){const C=m,T=l,k=y(e("uv-back-top"),g),v=d;return a(),s(T,{class:"p-10 fs-14"},{default:o((()=>[r(v,{"scroll-y":"true","show-scrollbar":!1,onScrolltolower:w.loadMore},{default:o((()=>[r(T,null,{default:o((()=>[(a(!0),n(i,null,c(b.list,((t,e)=>(a(),s(T,{class:"bg-white p-10 mb-10",style:{"border-radius":"4px"},key:e},{default:o((()=>[r(T,{class:"flex-between-center"},{default:o((()=>[r(C,null,{default:o((()=>[u(p(1==t.type?"前台充值":"后台充值"),1)])),_:2},1024),r(C,{style:h({color:w.getStatusColor(t.status)})},{default:o((()=>[u(p(w.getStatusText(t.status)),1)])),_:2},1032,["style"])])),_:2},1024),r(T,{class:"flex-between-center mt-10"},{default:o((()=>[r(C,null,{default:o((()=>[u("充值金额："+p(t.money),1)])),_:2},1024),r(C,null,{default:o((()=>[u("获得积分："+p(t.score),1)])),_:2},1024)])),_:2},1024),r(T,{class:"mt-10 fs-12 flex-between-center"},{default:o((()=>[r(C,{style:{color:"#555"}},{default:o((()=>[u("时间："+p(w.formatTime(1e3*t.createtime)),1)])),_:2},1024),r(C,null,{default:o((()=>[u("兑换比例："+p(t.scale),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),b.loading?(a(),s(T,{key:0,class:"loading-text text-center text-subtitle fs-14"},{default:o((()=>[u("加载中...")])),_:1})):b.noMore?(a(),s(T,{key:1,class:"no-more-text text-center text-subtitle fs-14"},{default:o((()=>[u("没有更多数据了")])),_:1})):f("",!0),r(k,{"scroll-top":b.scrollTop,customStyle:b.customStyle,iconStyle:b.iconStyle},null,8,["scroll-top","customStyle","iconStyle"])])),_:1},8,["onScrolltolower"])])),_:1})}],["__scopeId","data-v-503842d1"]]);export{b as default};
