import{o as e,c as t,w as o,r as s,n as i,a as l,F as a,b as n,d as r,e as d,f as c,g as u,t as h,i as p,h as m,j as f,k as b,l as _,m as y,S as g,p as w,q as x,s as k}from"./index-D0U_9w8I.js";import{_ as S}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{r as C}from"./uni-app.es.vL0V2sTy.js";import{_ as v}from"./uni-icons.sy-wMx9D.js";import{c as I,g as B,a as z,b as D,d as j,e as M}from"./index.DEsvId-E.js";import{_ as P}from"./chat.CdSFSyV_.js";const L=S({name:"UniSwiperDot",emits:["clickItem"],props:{info:{type:Array,default:()=>[]},current:{type:Number,default:0},dotsStyles:{type:Object,default:()=>({})},mode:{type:String,default:"default"},field:{type:String,default:""}},data:()=>({dots:{width:6,height:6,bottom:10,color:"#fff",backgroundColor:"rgba(0, 0, 0, .3)",border:"1px rgba(0, 0, 0, .3) solid",selectedBackgroundColor:"#333",selectedBorder:"1px rgba(0, 0, 0, .9) solid"}}),watch:{dotsStyles(e){this.dots=Object.assign(this.dots,this.dotsStyles)},mode(e){"indexes"===e?(this.dots.width=14,this.dots.height=14):(this.dots.width=6,this.dots.height=6)}},created(){"indexes"===this.mode&&(this.dots.width=12,this.dots.height=12),this.dots=Object.assign(this.dots,this.dotsStyles)},methods:{clickItem(e){this.$emit("clickItem",e)}}},[["render",function(f,b,_,y,g,w){const x=p,k=m;return e(),t(x,{class:"uni-swiper__warp"},{default:o((()=>[s(f.$slots,"default",{},void 0,!0),"default"===_.mode?(e(),t(x,{style:i({bottom:g.dots.bottom+"px"}),class:"uni-swiper__dots-box",key:"default"},{default:o((()=>[(e(!0),l(a,null,n(_.info,((o,s)=>(e(),t(x,{onClick:e=>w.clickItem(s),style:i({width:(s===_.current?2*g.dots.width:g.dots.width)+"px",height:g.dots.width/2+"px","background-color":s!==_.current?g.dots.backgroundColor:g.dots.selectedBackgroundColor,"border-radius":"0px"}),key:s,class:"uni-swiper__dots-item uni-swiper__dots-bar"},null,8,["onClick","style"])))),128))])),_:1},8,["style"])):r("",!0),"dot"===_.mode?(e(),t(x,{style:i({bottom:g.dots.bottom+"px"}),class:"uni-swiper__dots-box",key:"dot"},{default:o((()=>[(e(!0),l(a,null,n(_.info,((o,s)=>(e(),t(x,{onClick:e=>w.clickItem(s),style:i({width:g.dots.width+"px",height:g.dots.height+"px","background-color":s!==_.current?g.dots.backgroundColor:g.dots.selectedBackgroundColor,border:s!==_.current?g.dots.border:g.dots.selectedBorder}),key:s,class:"uni-swiper__dots-item"},null,8,["onClick","style"])))),128))])),_:1},8,["style"])):r("",!0),"round"===_.mode?(e(),t(x,{style:i({bottom:g.dots.bottom+"px"}),class:"uni-swiper__dots-box",key:"round"},{default:o((()=>[(e(!0),l(a,null,n(_.info,((o,s)=>(e(),t(x,{onClick:e=>w.clickItem(s),class:d([[s===_.current&&"uni-swiper__dots-long"],"uni-swiper__dots-item"]),style:i({width:(s===_.current?3*g.dots.width:g.dots.width)+"px",height:g.dots.height+"px","background-color":s!==_.current?g.dots.backgroundColor:g.dots.selectedBackgroundColor,border:s!==_.current?g.dots.border:g.dots.selectedBorder}),key:s},null,8,["onClick","class","style"])))),128))])),_:1},8,["style"])):r("",!0),"nav"===_.mode?(e(),t(x,{key:"nav",style:i({"background-color":_.dotsStyles.backgroundColor,bottom:"0"}),class:"uni-swiper__dots-box uni-swiper__dots-nav"},{default:o((()=>[c(k,{style:i({color:_.dotsStyles.color}),class:"uni-swiper__dots-nav-item"},{default:o((()=>[u(h(_.current+1+"/"+_.info.length+" "+_.info[_.current][_.field]),1)])),_:1},8,["style"])])),_:1},8,["style"])):r("",!0),"indexes"===_.mode?(e(),t(x,{key:"indexes",style:i({bottom:g.dots.bottom+"px"}),class:"uni-swiper__dots-box"},{default:o((()=>[(e(!0),l(a,null,n(_.info,((s,l)=>(e(),t(x,{onClick:e=>w.clickItem(l),style:i({width:g.dots.width+"px",height:g.dots.height+"px",color:l===_.current?g.dots.selectedColor:g.dots.color,"background-color":l!==_.current?g.dots.backgroundColor:g.dots.selectedBackgroundColor,border:l!==_.current?g.dots.border:g.dots.selectedBorder}),key:l,class:"uni-swiper__dots-item uni-swiper__dots-indexes"},{default:o((()=>[c(k,{class:"uni-swiper__dots-indexes-text"},{default:o((()=>[u(h(l+1),1)])),_:2},1024)])),_:2},1032,["onClick","style"])))),128))])),_:1},8,["style"])):r("",!0)])),_:3})}],["__scopeId","data-v-77e8f2a6"]]);const $=S({name:"UniNoticeBar",emits:["click","getmore","close"],props:{text:{type:String,default:""},moreText:{type:String,default:""},backgroundColor:{type:String,default:"#FFF9EA"},speed:{type:Number,default:100},color:{type:String,default:"#FF9A43"},fontSize:{type:Number,default:14},moreColor:{type:String,default:"#FF9A43"},single:{type:[Boolean,String],default:!1},scrollable:{type:[Boolean,String],default:!1},showIcon:{type:[Boolean,String],default:!1},showGetMore:{type:[Boolean,String],default:!1},showClose:{type:[Boolean,String],default:!1}},data:()=>({textWidth:0,boxWidth:0,wrapWidth:"",webviewHide:!1,elId:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,elIdBox:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,show:!0,animationDuration:"none",animationPlayState:"paused",animationDelay:"0s"}),watch:{text(e,t){this.initSize()}},computed:{isShowGetMore(){return!0===this.showGetMore||"true"===this.showGetMore},isShowClose(){return!(!0!==this.showClose&&"true"!==this.showClose||!1!==this.showGetMore&&"false"!==this.showGetMore)}},mounted(){this.$nextTick((()=>{this.initSize()}))},methods:{initSize(){if(this.scrollable){let e=[],t=new Promise(((e,t)=>{f().in(this).select(`#${this.elId}`).boundingClientRect().exec((t=>{this.textWidth=t[0].width,e()}))})),o=new Promise(((e,t)=>{f().in(this).select(`#${this.elIdBox}`).boundingClientRect().exec((t=>{this.boxWidth=t[0].width,e()}))}));e.push(t),e.push(o),Promise.all(e).then((()=>{this.animationDuration=this.textWidth/this.speed+"s",this.animationDelay=`-${this.boxWidth/this.speed}s`,setTimeout((()=>{this.animationPlayState="running"}),1e3)}))}},loopAnimation(){},clickMore(){this.$emit("getmore")},close(){this.show=!1,this.$emit("close")},onClick(){this.$emit("click")}}},[["render",function(l,a,n,f,_,y){const g=C(b("uni-icons"),v),w=m,x=p;return _.show?(e(),t(x,{key:0,class:"uni-noticebar",style:i({backgroundColor:n.backgroundColor}),onClick:y.onClick},{default:o((()=>[!0===n.showIcon||"true"===n.showIcon?s(l.$slots,"noticebarIcon",{key:0},(()=>[c(g,{class:"uni-noticebar-icon",type:"sound",color:n.color,size:1.5*n.fontSize},null,8,["color","size"])]),!0):r("",!0),c(x,{ref:"textBox",class:d(["uni-noticebar__content-wrapper",{"uni-noticebar__content-wrapper--scrollable":n.scrollable,"uni-noticebar__content-wrapper--single":!n.scrollable&&(n.single||n.moreText)}]),style:i({height:n.scrollable?1.5*n.fontSize+"px":"auto"})},{default:o((()=>[c(x,{id:_.elIdBox,class:d(["uni-noticebar__content",{"uni-noticebar__content--scrollable":n.scrollable,"uni-noticebar__content--single":!n.scrollable&&(n.single||n.moreText)}])},{default:o((()=>[c(w,{id:_.elId,ref:"animationEle",class:d(["uni-noticebar__content-text",{"uni-noticebar__content-text--scrollable":n.scrollable,"uni-noticebar__content-text--single":!n.scrollable&&(n.single||n.showGetMore)}]),style:i({color:n.color,fontSize:n.fontSize+"px",lineHeight:1.5*n.fontSize+"px",width:_.wrapWidth+"px",animationDuration:_.animationDuration,"-webkit-animationDuration":_.animationDuration,animationPlayState:_.webviewHide?"paused":_.animationPlayState,"-webkit-animationPlayState":_.webviewHide?"paused":_.animationPlayState,animationDelay:_.animationDelay,"-webkit-animationDelay":_.animationDelay})},{default:o((()=>[u(h(n.text),1)])),_:1},8,["id","class","style"])])),_:1},8,["id","class"])])),_:1},8,["class","style"]),y.isShowGetMore?(e(),t(x,{key:1,class:"uni-noticebar__more uni-cursor-point",onClick:y.clickMore},{default:o((()=>[n.moreText.length>0?(e(),t(w,{key:0,style:i({color:n.moreColor,fontSize:n.fontSize+"px"})},{default:o((()=>[u(h(n.moreText),1)])),_:1},8,["style"])):(e(),t(g,{key:1,type:"right",color:n.moreColor,size:1.1*n.fontSize},null,8,["color","size"]))])),_:1},8,["onClick"])):r("",!0),y.isShowClose?(e(),t(x,{key:2,class:"uni-noticebar-close uni-cursor-point"},{default:o((()=>[c(g,{type:"closeempty",color:n.color,size:1.1*n.fontSize,onClick:y.close},null,8,["color","size","onClick"])])),_:1})):r("",!0)])),_:3},8,["style","onClick"])):r("",!0)}],["__scopeId","data-v-ab6abca0"]]);const A=S({data:()=>({current:0,mode:"default",swiperDotIndex:0,banner:[],product:[],appSet:{},BASE_URL:I.BASE_URL,hotList:[],recommendList:[]}),onLoad(){B({type:1}).then((e=>{this.banner=e.data})),z().then((e=>{this.appSet=e.data})),D().then((e=>{this.product=e.data})),j().then((e=>{this.hotList=e.data})),M().then((e=>{this.recommendList=e.data}))},methods:{change(e){this.current=e.detail.current},clickItem(e){this.swiperDotIndex=e},jumpPage(e){_({url:"/pages/data-hall/detail?id="+e.id})},jumpVideoPage(e){_({url:"/pages/member-video/detail?id="+e.vod_id})},goKf(){window.open(this.appSet.kefu,"_blank")}}},[["render",function(s,i,r,f,_,S){const I=y,B=p,z=k,D=g,j=C(b("uni-swiper-dot"),L),M=C(b("uni-notice-bar"),$),A=m,T=C(b("uni-icons"),v),U=w;return e(),t(B,null,{default:o((()=>[c(I,{src:P,onClick:S.goKf,style:{width:"32px",height:"32px",position:"fixed",right:"1dvh",top:"1dvh","z-index":"999"},mode:""},null,8,["onClick"]),c(j,{class:"uni-swiper-dot-box",onClickItem:S.clickItem,info:_.banner,current:_.current,mode:"default",field:"content"},{default:o((()=>[c(D,{class:"swiper-box",onChange:S.change,current:_.swiperDotIndex},{default:o((()=>[(e(!0),l(a,null,n(_.banner,((s,i)=>(e(),t(z,{key:i},{default:o((()=>[c(B,{class:d(["swiper-item","swiper-item"+i])},{default:o((()=>[c(I,{src:_.BASE_URL+s.image,style:{width:"100%",height:"100%"},mode:""},null,8,["src"])])),_:2},1032,["class"])])),_:2},1024)))),128))])),_:1},8,["onChange","current"])])),_:1},8,["onClickItem","info","current"]),c(M,{"show-icon":"",scrollable:"",color:"red",speed:"10","background-color":"#f5f5f5",style:{"border-radius":"20px"},text:_.appSet.bulletin},null,8,["text"]),c(B,{class:"p-10"},{default:o((()=>[c(B,{class:"flex-between-center fs-14"},{default:o((()=>[c(A,null,{default:o((()=>[u("激活窗口")])),_:1}),c(U,{url:"/pages/data-hall/data-hall","open-type":"switchTab"},{default:o((()=>[c(A,{class:"fs-14",style:{color:"#999"}},{default:o((()=>[u("更多"),c(T,{type:"right",size:"16",color:"#999"})])),_:1})])),_:1})])),_:1}),c(B,{class:"grid-container-2 mt-10"},{default:o((()=>[(e(!0),l(a,null,n(_.product,((s,i)=>(e(),t(B,{class:"text-center",key:i,onClick:e=>S.jumpPage(s)},{default:o((()=>[c(I,{src:_.BASE_URL+s.image,style:{width:"100rpx",height:"100rpx","border-radius":"50%"},mode:""},null,8,["src"]),c(A,{style:{display:"block"}},{default:o((()=>[u(h(s.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),c(B,{class:"flex-between-center fs-14 mt-10 p-10",style:{"background-color":"var(--theme-primary-color)","border-radius":"4px",color:"#fff"}},{default:o((()=>[c(A,null,{default:o((()=>[u("人气最高")])),_:1}),c(U,{url:"/pages/member-video/member-video","open-type":"switchTab"},{default:o((()=>[c(A,{class:"fs-14",style:{color:"#999"}},{default:o((()=>[u("更多"),c(T,{type:"right",size:"16",color:"#999"})])),_:1})])),_:1})])),_:1}),c(D,{class:"swiper-box mt-10",circular:"",autoplay:"",interval:"3000",duration:"500"},{default:o((()=>[(e(!0),l(a,null,n(_.hotList,((s,i)=>(e(),t(z,{key:i},{default:o((()=>[c(B,{class:d(["swiper-item","swiper-item"+i]),style:{position:"relative"},onClick:e=>S.jumpVideoPage(s)},{default:o((()=>[c(I,{src:_.BASE_URL+s.image,style:{width:"100%",height:"100%"},mode:""},null,8,["src"]),c(B,{class:"fs-12 bottom-text"},{default:o((()=>[c(A,{style:{display:"block"},class:"ellipsis-text"},{default:o((()=>[u(h(s.vod_name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","onClick"])])),_:2},1024)))),128))])),_:1}),c(B,{class:"flex-between-center fs-14 mt-10 p-10",style:{"background-color":"var(--theme-primary-color)","border-radius":"4px",color:"#fff"}},{default:o((()=>[c(A,null,{default:o((()=>[u("热门推荐")])),_:1}),c(U,{url:"/pages/member-video/member-video","open-type":"switchTab"},{default:o((()=>[c(A,{class:"fs-14",style:{color:"#999"}},{default:o((()=>[u("更多"),c(T,{type:"right",size:"16",color:"#999"})])),_:1})])),_:1})])),_:1}),c(B,{class:"p-15 grid-container-2",style:{"box-sizing":"border-box"}},{default:o((()=>[(e(!0),l(a,null,n(_.recommendList,((s,i)=>(e(),t(B,{class:"",key:i,style:{position:"relative"},onClick:e=>S.jumpVideoPage(s)},{default:o((()=>[x("img",{src:_.BASE_URL+s.image,style:{width:"100%",height:"350rpx","border-radius":"8px"},alt:""},null,8,["src"]),c(B,{class:"flex-between-center fs-12 bottom-text"},{default:o((()=>[c(A,{style:{display:"block"},class:"ellipsis-text"},{default:o((()=>[u(h(s.vod_name),1)])),_:2},1024),c(A,null,{default:o((()=>[u(h(s.duration),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-341f9f3a"]]);export{A as default};
