import{C as e,k as t,o as s,c as l,w as a,i as n,f as i,g as o,t as f,h as r,v as u}from"./index-TkfRNjLx.js";import{_ as d}from"./uni-easyinput.DysGINHQ.js";import{r as c}from"./uni-app.es.D2PErhGZ.js";import{f as m,D as p}from"./index.BNpizL3L.js";import{_}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-icons.BaAFCRp2.js";const h=_({data:()=>({jifen:null,userInfo:{}}),onLoad(){this.getInfo()},methods:{allin(){this.jifen=this.userInfo.score},getInfo(){m().then((e=>{this.userInfo=e.data}))},submitJifen(){if(!this.jifen)return e({title:"请输入兑换积分",icon:"none"});p({score:this.jifen}).then((t=>{e({title:t.msg,icon:"none"}),1===t.code&&(this.getInfo(),this.jifen=0)}))}}},[["render",function(e,m,p,_,h,j){const g=n,x=r,y=c(t("uni-easyinput"),d),I=u;return s(),l(g,{class:"mt-10 fs-14"},{default:a((()=>[i(g,{class:"mt-10 p-15 bg-white"},{default:a((()=>[i(g,{class:""},{default:a((()=>[o(" 兑换积分 ")])),_:1}),i(g,{class:"flex-between-center mt-10"},{default:a((()=>[i(g,{class:"flex-center"},{default:a((()=>[i(x,null,{default:a((()=>[o("积分")])),_:1})])),_:1}),i(g,{class:"flex-center"},{default:a((()=>[i(y,{type:"number",modelValue:h.jifen,"onUpdate:modelValue":m[0]||(m[0]=e=>h.jifen=e),placeholder:"请输入兑换积分"},null,8,["modelValue"]),i(x,{style:{color:"red","margin-left":"10px"},onClick:j.allin},{default:a((()=>[o("全部")])),_:1},8,["onClick"])])),_:1})])),_:1}),i(g,{class:"mt-10",style:{"text-align":"right"}},{default:a((()=>[i(x,null,{default:a((()=>[o("限额说明")])),_:1})])),_:1}),i(g,{class:"mt-10"},{default:a((()=>[i(x,null,{default:a((()=>[o("剩余积分："),i(x,{style:{color:"red"}},{default:a((()=>[o(f(h.userInfo.score-h.jifen),1)])),_:1})])),_:1})])),_:1})])),_:1}),i(g,{class:"mt-10 p-15"},{default:a((()=>[i(I,{class:"primary-button",style:{"border-radius":"25px"},onClick:j.submitJifen},{default:a((()=>[o("马上兑换积分")])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-485dd04e"]]);export{h as default};
