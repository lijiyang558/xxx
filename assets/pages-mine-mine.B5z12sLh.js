import{o as e,c as t,w as a,r as s,e as l,n,g as i,t as o,d as r,h as u,i as d,l as c,v as m,k as f,f as p,a as g,b as h,F as _,q as y,m as x,x as b}from"./index-QM6YRZWD.js";import{_ as k}from"./uv-icon.Cw_CO3pk.js";import{r as v}from"./uni-app.es.CqVc5pWo.js";import{_ as I}from"./uni-icons.CXrp9Dyq.js";import{_ as w,a as C}from"./uni-grid.lRn4ItOO.js";import{_ as j}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{c as S,f as z}from"./index.n6aPFrLu.js";const R=j({name:"UniBadge",emits:["click"],props:{type:{type:String,default:"error"},inverted:{type:Boolean,default:!1},isDot:{type:Boolean,default:!1},maxNum:{type:Number,default:99},absolute:{type:String,default:""},offset:{type:Array,default:()=>[0,0]},text:{type:[String,Number],default:""},size:{type:String,default:"small"},customStyle:{type:Object,default:()=>({})}},data:()=>({}),computed:{width(){return 8*String(this.text).length+12},classNames(){const{inverted:e,type:t,size:a,absolute:s}=this;return[e?"uni-badge--"+t+"-inverted":"","uni-badge--"+t,"uni-badge--"+a,s?"uni-badge--absolute":""].join(" ")},positionStyle(){if(!this.absolute)return{};let e=this.width/2,t=10;this.isDot&&(e=5,t=5);const a=`${-e+this.offset[0]}px`,s=`${-t+this.offset[1]}px`,l={rightTop:{right:a,top:s},rightBottom:{right:a,bottom:s},leftBottom:{left:a,bottom:s},leftTop:{left:a,top:s}},n=l[this.absolute];return n||l.rightTop},dotStyle(){return this.isDot?{width:"10px",minWidth:"0",height:"10px",padding:"0",borderRadius:"10px"}:{}},displayValue(){const{isDot:e,text:t,maxNum:a}=this;return e?"":Number(t)>a?`${a}+`:t}},methods:{onClick(){this.$emit("click")}}},[["render",function(c,m,f,p,g,h){const _=u,y=d;return e(),t(y,{class:"uni-badge--x"},{default:a((()=>[s(c.$slots,"default",{},void 0,!0),f.text?(e(),t(_,{key:0,class:l([h.classNames,"uni-badge"]),style:n([h.positionStyle,f.customStyle,h.dotStyle]),onClick:m[0]||(m[0]=e=>h.onClick())},{default:a((()=>[i(o(h.displayValue),1)])),_:1},8,["class","style"])):r("",!0)])),_:3})}],["__scopeId","data-v-414d462c"]]);const B=j({data:()=>({list:[{name:"积分明细",img:"mine-icon1.png",url:"/pages/mine/sub/jifenRecord"},{name:"充值记录",img:"mine-icon2.png",url:"/pages/mine/sub/rechargeRecord"},{name:"兑换记录",img:"mine-icon3.png",url:"/pages/mine/sub/exchangeRecord"},{name:"点击记录",img:"mine-icon4.png",url:"/pages/mine/sub/clickRecord"},{name:"援助交际",img:"mine-icon5.png",url:"/pages/mine/sub/communication"},{name:"会员消息",img:"mine-icon6.png",url:"/pages/mine/sub/VIPMsg"},{name:"收款方式管理",img:"mine-icon7.png",url:"/pages/mine/sub/payManage"},{name:"我的观影券",img:"mine-icon8.png",url:"/pages/mine/sub/coupon"},{name:"酒店预订",img:"mine-icon9.png",url:"/pages/mine/sub/HotelReservations"},{name:"线上客服",img:"mine-icon-10.svg",url:""}],userInfo:{},showEye:!0,BASE_URL:S.BASE_URL}),onLoad(){this.getInfo()},methods:{getInfo(){z().then((e=>{console.log("getUserInfo",e.data),this.userInfo=e.data}))},jumpPage(e){c({url:e})},jumpPage2(){c({url:"/pages/mine/sub/setting"})},changAvatar(){},change(e){let{index:t}=e.detail,a=this.list[t].url;a?this.jumpPage(a):window.open(m("appSet").kefu,"_blank")}}},[["render",function(s,l,n,c,m,j){const S=v(f("uv-icon"),k),z=y,B=u,E=d,P=v(f("uni-icons"),I),N=x,A=v(f("uni-grid-item"),w),U=v(f("uni-grid"),C),$=v(f("uni-badge"),R),D=b;return e(),t(E,null,{default:a((()=>[p(D,{"scroll-y":"true"},{default:a((()=>[p(E,{style:{height:"100dvh"}},{default:a((()=>[p(S,{style:{width:"32px",height:"32px",position:"fixed",right:"1dvh",top:"1dvh","z-index":"999"},name:"setting",color:"#fff",size:"22",onClick:j.jumpPage2},null,8,["onClick"]),p(E,{class:"p-15 flex-center fs-12",style:{background:"var(--theme-primary-color)",height:"120px","box-sizing":"border-box",color:"#fff"}},{default:a((()=>[p(z,{src:m.userInfo.avatar.includes(".png")?m.BASE_URL+m.userInfo.avatar:m.userInfo.avatar,style:{width:"70px",height:"70px","border-radius":"50%"},mode:"",onClick:j.changAvatar},null,8,["src","onClick"]),p(E,{class:"ml-10"},{default:a((()=>[p(E,{class:"flex",style:{"align-items":"center"}},{default:a((()=>[p(B,null,{default:a((()=>[i(o(m.userInfo.nickname),1)])),_:1}),p(B,{class:"ml-10"},{default:a((()=>[i("等级："+o(m.userInfo.level),1)])),_:1})])),_:1}),p(E,{class:""},{default:a((()=>[p(B,null,{default:a((()=>[i("积分："+o(m.userInfo.score),1)])),_:1})])),_:1}),p(E,{class:""},{default:a((()=>[p(B,null,{default:a((()=>[i("邀请码："+o(m.userInfo.invite_code),1)])),_:1})])),_:1})])),_:1})])),_:1}),p(E,{class:"mine_content main-text-13"},{default:a((()=>[p(E,{class:"",style:{background:"#fff","border-radius":"8px",padding:"0 15px"}},{default:a((()=>[p(U,{column:3,"show-border":!1,square:!1},{default:a((()=>[p(A,null,{default:a((()=>[p(E,{class:"grid-item-box"},{default:a((()=>[p(N,{url:"/pages/mine/sub/signIn"},{default:a((()=>[p(E,{class:"flex-center2"},{default:a((()=>[p(P,{type:"calendar",color:"var(--theme-primary-darkColor)",size:"28"}),p(B,null,{default:a((()=>[i("签到")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),p(A,null,{default:a((()=>[p(E,{class:"grid-item-box"},{default:a((()=>[p(E,{class:"flex-center2",onClick:l[0]||(l[0]=e=>j.jumpPage("/pages/mine/sub/RedeemPoints"))},{default:a((()=>[p(S,{name:"gift-fill",color:"var(--theme-primary-darkColor)",size:"28"}),p(B,null,{default:a((()=>[i("兑换积分")])),_:1})])),_:1})])),_:1})])),_:1}),p(A,null,{default:a((()=>[p(E,{class:"grid-item-box"},{default:a((()=>[p(E,{class:"flex-center2",onClick:l[1]||(l[1]=e=>j.jumpPage("/pages/mine/sub/recharge"))},{default:a((()=>[p(P,{type:"wallet",color:"var(--theme-primary-darkColor)",size:"28"}),p(B,null,{default:a((()=>[i("充值")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),p(E,{class:"mt-10 p-10",style:{background:"#fff","border-radius":"8px"}},{default:a((()=>[p(B,{style:{display:"block"}},{default:a((()=>[i("我的活动积分")])),_:1}),p(E,{class:"flex-between-center mt-10"},{default:a((()=>[p(E,{class:"flex-center"},{default:a((()=>[p(B,{class:"fs-28",style:{color:"var(--theme-primary-color)"}},{default:a((()=>[i(o(m.showEye?m.userInfo.score:"***"),1)])),_:1}),p(S,{class:"ml-5",name:m.showEye?"eye":"eye-off",color:"var(--theme-primary-color)",size:"16",onClick:l[2]||(l[2]=e=>m.showEye=!m.showEye)},null,8,["name"])])),_:1}),p(E,{class:"flex-center"},{default:a((()=>[p(B,null,{default:a((()=>[i("余额（积分）")])),_:1}),p(P,{type:"refresh-filled",color:"var(--theme-primary-color)",size:"22",onClick:j.getInfo},null,8,["onClick"])])),_:1})])),_:1})])),_:1}),p(E,{class:"mt-10",style:{background:"#fff","border-radius":"8px",padding:"15px"}},{default:a((()=>[p(U,{column:3,"show-border":!1,square:!1,onChange:j.change},{default:a((()=>[(e(!0),g(_,null,h(m.list,((s,l)=>(e(),t(A,{index:l,key:l},{default:a((()=>[p(E,{class:"grid-item-box"},{default:a((()=>[p(z,{class:"image",src:"/static/mine/"+s.img,style:{width:"80rpx",height:"80rpx"},mode:"aspectFill"},null,8,["src"]),p(B,{class:"text mt-5"},{default:a((()=>[i(o(s.name),1)])),_:2},1024),"会员消息"==s.name?(e(),t(E,{key:0,class:"grid-dot"},{default:a((()=>[p($,{text:m.userInfo.unread_msg,type:"error"},null,8,["text"])])),_:1})):r("",!0),"我的观影券"==s.name?(e(),t(E,{key:1,class:"grid-dot"},{default:a((()=>[p($,{text:m.userInfo.movie_tickets,type:"error"},null,8,["text"])])),_:1})):r("",!0)])),_:2},1024)])),_:2},1032,["index"])))),128))])),_:1},8,["onChange"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-de91d1c4"]]);export{B as default};
